<div class="page-header">
  <h1>Search Contacts</h1>
</div>


<%= form_for(@search_form, url: advanced_search_path, html: {class: "form-inline addressbook-inline"}) do |f| %>
    <% if @search_form.errors.any? %>
        <div id="error_explanation">
          <ul>
            <% @search_form.errors.each do |field, message| %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>


    <div class="form-group">
      <%= f.text_field :q, class: 'form-control', placeholder: 'Name' %>
    </div>
    <div class="form-group">
      <%= f.submit 'Search', class: 'btn btn-primary' %>
    </div>
<% end %>

<% unless @contacts.blank? %>
    <div class="row">
      <% @contacts.each do |contact| %>

          <div class="col-sm-6 col-md-4">
            <div class="thumbnail">
              <div class="caption">
                <h3><%= link_to contact.full_name, contact %></h3>
              </div>
              <div class="addressbook-card clearfix">
                <%= render partial: 'phones/cards', locals: {phones: contact.phones} %>
                <%= render partial: 'addresses/cards', locals: {addresses: contact.addresses} %>
                <div class="pull-right">
                  <%= link_to('Show', contact_path(contact), {class: 'btn btn-default'}) %>
                  <%= link_to('Edit', edit_contact_path(contact), {class: 'btn btn-default'}) %>
                </div>

              </div>
            </div>
          </div>
      <% end %>
    </div>
    <div>
      <%= paginate @contacts, :theme => 'twitter-bootstrap-3' %>
    </div>
<% else %>
    <div>There are no contacts matching your search</div>
<% end %>
